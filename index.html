<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>React Workshop</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<link rel="stylesheet" href="css/app.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
              <section data-markdown>
                <script type="text/template">
                  # React Workshop
                  ## Dev Meetings
                  ### Justin McCandless
                </script>
              </section>
              <section data-markdown>
                <script type="text/template">
                  ## Hi I'm Justin
                  <ul>
                    <li class="fragment">Engineer with Autodesk's BioNano group</li>
                    <li class="fragment"><3 React since 2015</li>
                    <li class="fragment">@justinjmcc | justinmccandless.com</li>
                  </ul>
                </script>
              </section>
              <section data-markdown>
                <script type="text/template">
                  ## Outline for the day
                  - What is React?
                  - Sprint 0: Creating a static app
                  - Sprint 1: Dynamic state and props
                  - Sprint 2: Component lifecycle and complex interactions
                  - Sprint 3: Asynchronous data (integrating an API)
                  - Sprint 4: Architecture
                  - Advanced topics and how to keep learning
                </script>
              </section>
              <section>
                <section data-markdown>
                  <script type="text/template">
                    ## What is React?
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Introduction: What is React?</div>
                    ## Roots: Static HTML
                    ![HTML5 Boilerplate](./img/html.png)
                    <br />
                    Source: [https://html5boilerplate.com/](https://html5boilerplate.com/)
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Introduction: What is React?</div>
                    ## Roots: Direct DOM Manipulation
                    Source: [http://codepen.io/justinmc/pen/oBRKeG](http://codepen.io/justinmc/pen/oBRKeG)
                    ```javascript
                    <button class="adder">+1</button>
  <div class="count">0</div>
                    ```
                    ```javascript
                    var adderEl = document.querySelector('.adder');
                    var countEl = document.querySelector('.count');

                    adderEl.addEventListener('click', function() {
                      var currentValue = countEl.innerHTML;
                      countEl.innerHTML = parseInt(currentValue) + 1;
                    });
                    ```
                    ![Direct DOM Manipulation Example](./img/increment.gif)
                    <aside class="notes">
                      I was originally going to call this slide "jQuery Spaghetti".  This is great for simple interactivity, but is hard to maintain in large applications.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Introduction: What is React?</div>
                    ## Roots: MVC
                    ![MVC Diagram](./img/MVC-basic.svg)
                    <aside class="notes">
                      Keep state in javascript, mutate state, and rerender. Backbone is a great example.  Potential performance problems with totally rerendering too much.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Introduction: What is React?</div>
                    ## Enter React
                    <ol>
                      <li class="fragment">Render HTML based on data.</li>
                      <li class="fragment">Do subsequent renders incredibly quickly.</li>
                      <li class="fragment">That's pretty much it.</li>
                    </ol>
                    <aside class="notes">
                      Very minimal.  Not a full MVC setup.  Plays well with others.  Solves the performance problem of rerendering too much.
                    </aside>
                  </script>
                </section>
                <section data-markdown data-transition="none">
                  <script type="text/template">
                    <div class="section">Introduction: What is React?</div>
                    ## React: Data => HTML
                    ```javascript
                    function MyReactComponent() {
                      const myButtonLabel = 'Click Me!';
                      const myButtonIsDisabled = false;

                      return (
                        <button
                          className="pretty-button"
                          disabled={myButtonIsDisabled}
                        >
                          {myButtonLabel}
                        </button>
                      );
                    }
                    ```
                    ![React Button Component Enabled](./img/button_component_enabled.png)
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown data-transition="none">
                  <script type="text/template">
                    <div class="section">Introduction: What is React?</div>
                    ## React: Data => HTML
                    ```javascript
                    function MyReactComponent() {
                      const myButtonLabel = 'Don\'t Click Me :(';
                      const myButtonIsDisabled = true;

                      return (
                        <button
                          className="pretty-button"
                          disabled={myButtonIsDisabled}
                        >
                          {myButtonLabel}
                        </button>
                      );
                    }
                    ```
                    ![React Button Component Enabled](./img/button_component_disabled.png)
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Introduction: What is React?</div>
                    ## Wait but how are you writing HTML in your JS?
                    <ul>
                      <li class="fragment">It's called JSX!</li>
                      <li class="fragment">It's a preprocessing language that gets compiled to plain old javascript.</li>
                    </ul>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Introduction: What is React?</div>
                    ## JSX
                    ```javascript
                      return (
                        <p className="prose">Lorem Ipsum</p>
                      );
                    ```
                    =>
                    ```javascript
                    return React.createElement(
                      "p",
                      { className: "prose" },
                      "Lorem Ipsum"
                    );
                    ```
                    If you want to play around with compiling to JSX, try [Babel's repl](https://babeljs.io/repl) (don't forget to turn on the "react" preset).
                    <aside class="notes">
                      Very similar to document.createElement!  We're going to use jsx in this workshop because it is very prevalent.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Introduction: What is React?</div>
                    ## You said React was fast?
                    <ul>
                      <li class="fragment">React isn't just reinserting a whole new element each time something changes.</li>
                      <li class="fragment">It's doing DOM DIFFING!</li>
                      <li class="fragment">On a rerender, compares the current state of the DOM to the new state, then makes minimum number of operations needed to transition to the new state.</li>
                    </ul>
                    <aside class="notes">
                      From what we've seen so far, you could imagine writing a library to insert these components into the dom yourself in a few hundred lines.  There are some libraries that do this!  Actually not bad performance in most cases.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Introduction: What is React?</div>
                    ## One more performance buzz word for you
                    <ul>
                      <li class="fragment">React doesn't actually look at the actual DOM to make it's comparison.  It looks at the VIRTUAL DOM.</li>
                      <li class="fragment">The virtual DOM is React's own internal representation of the DOM designed to be super quick to inspect and make operations on.</li>
                      <li class="fragment">Why does React go through all this trouble to avoid working with the DOM?  Because the DOM is a slow legacy dinosaur.</li>
                    </ul>
                    <aside class="notes">
                      Not to be confused with the Shadow DOM.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    ## Ok you guys pretty much know React now, let's build something.
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    ## Tips!
                    - Whenever you finish a task, commit!
                      - That way, if we have to move on while you're still working, you can stash and get back to a working state.
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    ## [The Sprints](#/3)
                  </script>
                </section>
              </section>
              <section>
                <section data-markdown>
                  <script type="text/template">
                    ## Sprint 0
                    1. <span class="task-basic">Generate a React app with [create-react-app](https://github.com/facebookincubator/create-react-app).</span>
                    1. <span class="task-basic">Initialize a git repository.
                    1. <span class="task-basic">Edit the big title on the page and see it update in your browser.</span>
                    1. <span class="task-basic">Create your own "Post" React component and render it.</span>
                    1. <span class="task-basic">Make it awesome with CSS and hardcoded info.</span>
                    1. <span class="task-advanced">Install a linter like the [airbnb eslint config](https://www.npmjs.com/package/eslint-config-airbnb) and make your jsx code comply!</span>
                    1. <span class="task-extra">Install [redux](http://redux.js.org/), create a Container above your "Post" component, and feed it dummy data.</span>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 0</div>
                    ## create-react-app
                    - We're using it because it's easy and very widely used.
                    - It will be compiling our jsx, es7, and serving the compiled static assets.
                    - You can do fancier things with tools like Webpack and your own setup, though, so check those out if you end up with more build requirements.
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 0</div>
                    ## Default App.js component
                    ```javascript
                    import React, { Component } from 'react';
                    import logo from './logo.svg';
                    import './App.css';

                    class App extends Component {
                      render() {
                        return (
                          <div className="App">
                            <div className="App-header">
                              <img src={logo} className="App-logo" alt="logo" />
                              <h2>Welcome to React</h2>
                            </div>
                            <p className="App-intro">
                              To get started, edit <code>src/App.js</code> and save to reload.
                            </p>
                          </div>
                        );
                      }
                    }

                    export default App;
                    ```
                    <aside class="notes">
                      Note that we're using a class here instead of a function.  Both are ok!
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 0</div>
                    ## Default App.js component
                    ![Rendering of default component](./img/default_component.png)
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 0</div>
                    ## Customize it
                    ```
                    <div className="App-header">
                      <img src={logo} className="App-logo" alt="logo" />
                      <h2>Welcome to Justin's Awesome App!</h2>
                    </div>
                    ```
                    ![Rendering of customized component](./img/default_component_customized.png)
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 0</div>
                    ## Customized it
                    ```
                    return (
                      <div className="App">
                        <div
                          className="app-bar"
                        >
                          <div>Story Time</div>
                        </div>
                        <h2>Your Books</h2>
                        <ul>
                          <li>Treasure Island by Robert Louis Stevenson</li>
                          <li>Go Dog Go by Dr. Seuss</li>
                        </ul>
                      </div>
                    );
                    ```
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 0</div>
                    ## Customized it
                    ![Rendering of fully customized component](./img/default_component_fully_customized.png)
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 0</div>
                    ## Components in Components
                    ```
                    <ul>
                      <li>Treasure Island by Robert Louis Stevenson</li>
                    </ul>
                    ```
                    <div class="fragment">
                      ```
                      <ul>
                        <Book />
                      </ul>
                      ```
                    </div>
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 0</div>
                    ## Components in Components
                    `components/Book.js`
                    ```
                    import React, { Component } from 'react';

                    class Book extends Component {
                      render() {
                        return (
                          <li>Treasure Island by Robert Louis Stevenson</li>
                        );
                      }
                    }

                    export default Book;
                    ```
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 0</div>
                    ## Components in Components
                    Back in `App.js`
                    ```
                    import React, { Component } from 'react';
                    import Book from './components/Book';
                    import './css/App.css';
                    ```
                    ...
                      ```
                      <ul>
                        <Book />
                        <Book />
                        <Book />
                      </ul>
                      ```
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 0</div>
                    ## Questions before we [get started](#/3)?
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
              </section>
              <section>
                <section data-markdown>
                  <script type="text/template">
                    ## Sprint 1
                    1. <span class="task-basic">Feed your nested components data via props.</span>
                    1. <span class="task-basic">Add some local dynamic interactions with state.</span>
                    1. <span class="task-advanced">Build some generic UI components for your app like a `<Button />`.</span>
                    1. <span class="task-extra">When the user performs an action like the one controlled by state in this sprint, call an action, dispatch an event, and modify state via a reducer.</span>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 1</div>
                    ## Props and State
                    - Props is an object containing all data passed in to the component.
                    - State is an object representing all state internal to the component.
                    - Anytime either one changes, the component will rerender.
                    <aside class="notes">
                      Component will kick off its whole process of DOM diffing and modifying the DOM if necessary.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 1</div>
                    ## Passing Props to the Book Component
                    `App.js`
                    ```javascript
                    <ul>
                      <Book
                        title="Treasure Island"
                        author="Robert Louis Stevenson"
                      />
                      <Book
                        title="Go Dog Go"
                        author="Dr. Seuss"
                      />
                    </ul>
                    ```
                    <aside class="notes">
                      You can pass any javascript primitives or variables as props!
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 1</div>
                    ## Passing Props to the Book Component
                    `Book.js`
                    ```javascript
                    class Book extends Component {
                      render() {
                        return (
                          <li
                            className="book"
                          >
                            <div>
                              {this.props.title}
                            </div>
                            <div>
                              {`by ${this.props.author}`}
                            </div>
                          </li>
                        );
                      }
                    }
                    ```
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 1</div>
                    ## Prop Types and Default Props
                    You can tell React what types to expect for each prop value, whether or not they're required, and what value to use as a default if not.  There is a nice [list of all available prop types](https://facebook.github.io/react/docs/typechecking-with-proptypes.html) in the React docs.
                    ```javascript
                    static defaultProps = {}

                    static propTypes = {
                      title: React.PropTypes.string.isRequired,
                      author: React.PropTypes.string.isRequired,
                    }
                    ```
                    <aside class="notes">
                      This syntax is equivalent to `Book.defaultProps = {};` etc.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    ## State
                    I'll add a "favorite" indicator on books that I want to work something like this:
                    <br />
                    ![State UI](./img/state.gif)
                    <div class="section">Sprint 1</div>
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 1</div>
                    ## State
                    `Book.js` and `Book.css`
                    ```javascript
                    <div>
                      <span className="favorite" />
                      {this.props.title}
                    </div>
                    ```
                    ```css
                    .favorite {
                      display: inline-block;
                      background-color: #dfdfdf;
                      height: 16px;
                      width: 16px;
                      border-radius: 8px;
                      margin: 6px;
                    }
                    .favorite.enabled {
                      background-color: tomato;
                    }
                    ```
                    <aside class="notes">
                      If I add the "enabled" class to the span, it will show filled red.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 1</div>
                    ## State
                    `Book.js`
                    ```javascript
                    const favoriteClass = this.state.favorited ? 'enabled' : '';

                    return (
                      <li
                        className="book"
                      >
                        <div>
                          <span className={`favorite ${favoriteClass}`} />
                          {this.props.title}
                        </div>
                    ```
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 1</div>
                    ## Initial State
                    `Book.js`
                    ```javascript
                    constructor(props) {
                      super(props);

                      this.state = {
                        favorited: false,
                      };
                    }
                    ```
                    <aside class="notes">
                      If you're not using es6 classes, you can use getInitialState.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 1</div>
                    ## Make it Dynamic
                    `Book.js`
                    ```javascript
                    onClickFavorite = () => {
                      this.setState({
                        favorited: !this.state.favorited,
                      });
                    }
                    ```
                    ```
                    <span
                      className={`favorite ${favoriteClass}`}
                      onClick={this.onClickFavorite}
                    />
                    ```
                    <aside class="notes">
                      This is es7 class property declaration syntax.  Otherwise, `onClickFavorite() {` and `this.onClickFavorite = this.onClickFavorite.bind(this)` in constructor.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 1</div>
                    ## State All Done
                    `Book.js`
                    ```
                    import React, { Component } from 'react';
                    import '../css/Book.css';

                    class Book extends Component {
                      static propTypes = {
                        title: React.PropTypes.string.isRequired,
                        author: React.PropTypes.string.isRequired,
                      }

                      constructor(props) {
                        super(props);

                        this.state = {
                          favorited: false,
                        };
                      }

                      onClickFavorite = () => {
                        this.setState({
                          favorited: !this.state.favorited,
                        });
                      }

                      render() {
                        const favoriteClass = this.state.favorited ? 'enabled' : '';

                        return (
                          <li
                            className="book"
                          >
                            <div>
                              <span
                                className={`favorite ${favoriteClass}`}
                                onClick={this.onClickFavorite}
                              />
                              {this.props.title}
                            </div>
                            <div>
                              {`by ${this.props.author}`}
                            </div>
                          </li>
                        );
                      }
                    }

                    export default Book;
                    ```
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 1</div>
                    ## Questions before we [get started](#/4)?
                    <aside class="notes">
                      Text inputs will come next.
                    </aside>
                  </script>
                </section>
              </section>
              <section>
                <section data-markdown>
                  <script type="text/template">
                    ## Sprint 2
                    1. <span class="task-basic">Render an array of data by looping over it.</span>
                    1. <span class="task-basic">Build a controlled text input with state.</span>
                    1. <span class="task-advanced">Add validation to your form input.</span>
                    1. <span class="task-advanced">Add a few different types of form elements (radio buttons, checkboxes, dropdowns, etc.) and map their values to state.</span>
                    1. <span class="task-advanced">Try building an uncontrolled input.</span>
                    1. <span class="task-advanced">Play around with [refs](https://facebook.github.io/react/docs/refs-and-the-dom.html) for more direct DOM access.</span>
                    1. <span class="task-extra">Update your Flux/Redux store on form submission.</span>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Looping in JSX
                    - JSX is capable of rendering arrays of elements too!
                    - Just make sure each element has a unique `key` attribute.
                    <div class="fragment">
                      ```javascript
                        <ol>
                          {
                            ['a', 'b', 'c'].map((element) => (
                              <li key={element}>{element}</li>
                            ))
                          }
                        </ol>
                      ```
                    </div>
                    <div class="fragment">
                      ![Render of loop code](./img/list_loop.png)
                    </div>
                    <aside class="notes">
                      React uses the `key` attribute to uniquely identify elements in order to do the most efficient DOM manipulations when your data changes.  If you forget it, React will log a warning.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Books from an array
                    - Get our books into `state` as an array.
                    ```javascript
                      constructor(props) {
                        super(props);

                        this.state = {
                          books: [
                            { title: 'Treasure Island', author: 'Robert Louis Stevenson' },
                            { title: 'Go Dog Go', author: 'Dr. Seuss' },
                          ],
                        };
                      }
                    ```
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    ## Books from an array
                    - Render a `Book` component for each book in the array.
                    ```
                      <ul>
                        {
                          this.state.books.map(book =>
                            <Book
                              key={book.title}
                              title={book.title}
                              author={book.author}
                            />
                          )
                        }
                      </ul>
                    ```
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Inputs
                    What does this render? (in a jsx React component)
                    ```javascript
                      <input type="text" value="words go here" />
                    ```
                    <div class="fragment">
                      ![Input with value set to string](./img/input_with_value.png)
                    </div>
                    <aside class="notes">
                      And what happens if the user tries to change the input?  Nothing!  It won't change.  React will rerender it immediately.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Inputs
                    What is the value of `event.target.value`?
                    ```javascript
                      onChangeInput = (event) => {
                        console.log(event.target.value);
                      }

                      ...

                      <input
                        type="text"
                        value="words go here"
                        onChange={this.onChangeInput} />
                    ```
                    <div class="fragment">
                      Answer: The value that the user updated the input to (after first keystroke)
                    </div>
                    <aside class="notes">
                      Note the class property syntax used to avoid needing to `.bind`.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## [Controlled Inputs](https://facebook.github.io/react/docs/forms.html)
                    ```javascript
                      constructor(props) {
                        super(props);

                        this.state = {
                          inputValue: 'words go here',
                        };
                      }

                      onChangeInput = (event) => {
                        this.setState({
                          inputValue: event.target.default,
                        });
                      }

                      ...

                      <input
                        type="text"
                        value={this.state.inputValue}
                        onChange={this.onChangeInput} />
                    ```
                    <div class="fragment">
                      Answer: The value that the user updated the input to (after first keystroke)
                    </div>
                    <aside class="notes">
                      Note the class property syntax used to avoid needing to `.bind`.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## That was a lot of typing...
                    - React is verbose, but for complex apps, the architectural benefits are worth it.
                    - As forms get more complicated it's nice to have input values match variables.
                    - If you're sure you don't need a full controlled input, you can always just grab values from the html element. See [uncontrolled inputs](https://facebook.github.io/react/docs/uncontrolled-components.html) in the docs.
                    <aside class="notes">
                      - React/Flux/Redux do not try to eliminate boilerplate, they show you everything.
                      - More complicated forms might feature: validation, asynchronous submission
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Dynamic Books
                    Let's create a form to add new books to the list.
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Dynamic Books
                    ![Add Component Working](./img/add.gif)
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Dynamic Books
                    First, we need a way to add books to our `state.books` array in App.js.
                    <div class="fragment">
                      ```javascript
                        onAddBook = (book) => {
                          // Notice I'm not just pushing to this.state.books
                          this.setState({
                            books: this.state.books.concat([book]),
                          });
                        }
                      ```
                    </div>
                    <aside class="notes">
                      You have to notify React when you mutate state. To enforce this, the [immutablejs](https://facebook.github.io/immutable-js/docs) library is popularly used.
                      You might start to see the benefit in declaring your UI based on state so verbosely now.  Very easy to add an item to the books array and have it render updated.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Dynamic Books
                    Now let's create a new component that contains an "add book" form and uses this method.
                    ```javascript
                      <Add onAdd={this.onAddBook} />
                    ```
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Dynamic Books
                    Let's write Add.js.
                    ```javascript
                      class Add extends Component {
                        constructor(props) {
                          super(props);

                          this.state = {
                          };
                        }

                        render() {
                          return (
                            <form className="add">
                            </form>
                          );
                        }
                      }
                    ```
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Dynamic Books
                    Fill out the form.
                    ```javascript
                      <form className="add" onSubmit={this.onSubmit}>
                        <input
                          type="text"
                          placeholder="Title"
                          value={this.state.title}
                          onChange={this.onChangeTitle}
                        />
                        <input
                          type="text"
                          placeholder="Author"
                          value={this.state.author}
                          onChange={this.onChangeAuthor}
                        />
                        <input
                          type="submit"
                          value="submit"
                        />
                      </form>
                    ```
                    <aside class="notes">
                      The use of a form element with an `onSubmit` just takes advantage of the browser a bit (pressing the Enter key in an input will submit the form).
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Dynamic Books
                    Set a prop type for the `onAdd` function we receive, and set the initial state.
                    ```javascript
                      static propTypes = {
                        onAdd: React.PropTypes.func.isRequired,
                      }

                      constructor(props) {
                        super(props);

                        // Initially, the title and author inputs should be empty
                        this.state = {
                          title: '',
                          author: '',
                        };
                      }
                    ```
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Dynamic Books
                    Update the state when form inputs change.
                    ```javascript
                      onChangeTitle = (e) => {
                        this.setState({
                          title: e.target.value,
                        });
                      }

                      onChangeAuthor = (e) => {
                        this.setState({
                          author: e.target.value,
                        });
                      }
                    ```
                    <aside class="notes">
                      Does this look repetetive?  You can totally use `target.name` to write a generic handler for both.  See the [React Form docs](https://facebook.github.io/react/docs/forms.html).
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Dynamic Books
                    And submit it all.
                    ```javascript
                      onSubmit = (e) => {
                        // Prevent the form from trying to refresh the page
                        e.preventDefault();

                        // Call onAdd up above in App.js
                        this.props.onAdd({ title: this.state.title, author: this.state.author });

                        // Clear the inputs back to their defaults
                        this.setState({
                          title: '',
                          author: '',
                        });
                      }
                    ```
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Dynamic Books
                    The complete Add.js component:
                    ```javascript
                      import React, { Component } from 'react';

                      class Add extends Component {
                        static propTypes = {
                          onAdd: React.PropTypes.func.isRequired,
                        }

                        constructor(props) {
                          super(props);

                          this.state = {
                            title: '',
                            author: '',
                          };
                        }

                        onChangeTitle = (e) => {
                          this.setState({
                            title: e.target.value,
                          });
                        }

                        onChangeAuthor = (e) => {
                          this.setState({
                            author: e.target.value,
                          });
                        }

                        onSubmit = (e) => {
                          e.preventDefault();
                          this.props.onAdd({ title: this.state.title, author: this.state.author });

                          this.setState({
                            title: '',
                            author: '',
                          });
                        }

                        render() {
                          return (
                            <form className="Add" onSubmit={this.onSubmit}>
                              <input
                                type="text"
                                placeholder="Title"
                                value={this.state.title}
                                onChange={this.onChangeTitle}
                              />
                              <input
                                type="text"
                                placeholder="Author"
                                value={this.state.author}
                                onChange={this.onChangeAuthor}
                              />
                              <input
                                type="submit"
                                value="submit"
                              />
                            </form>
                          );
                        }
                      }

                      export default Add;
                    ```
                    <aside class="notes">
                      We modify the state data, and React updates the UI to reflect that.  Super powerful and simple to understand.
                    </aside>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## Questions before we [get started](#/6)?
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
              </section>
              <section>
                <section data-markdown>
                  <script type="text/template">
                    ## Sprint 3
                    1. <span class="task-basic"></span>
                    1. <span class="task-advanced"></span>
                    1. <span class="task-extra"></span>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 3</div>
                    ## Questions before we [get started](#/6)?
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
              </section>
              <section>
                <section data-markdown>
                  <script type="text/template">
                    ## Sprint 4
                    1. <span class="task-basic"></span>
                    1. <span class="task-advanced"></span>
                    1. <span class="task-extra"></span>
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 4</div>
                    ## Questions before we [get started](#/7)?
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
              </section>
              <section>
                <section data-markdown>
                  <script type="text/template">
                    ## From Here
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    <div class="section">Sprint 2</div>
                    ## [Back to the top](#/8)
                    <aside class="notes">
                    </aside>
                  </script>
                </section>
              </section>
              <section data-markdown>
                <script type="text/template">
                  ## Thanks!
                </script>
              </section>
              <section>
                <section data-markdown>
                  <script type="text/template">
                    ## Extra Slides
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    ## React @ Autodesk BioNano
                    ![Autodesk BioNano MST Project](./img/mst.png)
                  </script>
                </section>
                <section data-markdown>
                  <script type="text/template">
                    ## React @ Teespring
                    ![Teespring Design Tool](./img/composer.png)
                  </script>
                </section>
              </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
